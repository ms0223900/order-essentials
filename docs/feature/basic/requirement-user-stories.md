| **功能類別** | **使用者故事** | **成功指標** | **限制條件** |
|------------|--------------|------------|------------|
| **展示商品列表** | 作為**購物者**，我想要**瀏覽商品列表並快速找到想要的商品**，以便**有效率地選購商品** | • 商品列表以網格方式展示，每頁顯示所有可用商品<br>• 商品卡片顯示關鍵資訊：圖片、名稱、價格、簡介、庫存狀態、類別標籤<br>• 支援響應式佈局：手機 1 欄、平板 2 欄、電腦 3-4 欄<br>• 空列表時顯示友善提示訊息<br>• 載入失敗時顯示錯誤訊息並提供重新載入功能 | • 商品資料來源：Supabase 資料庫<br>• 商品列表一次顯示所有商品（不支援分頁）<br>• 商品卡片圖片使用標準尺寸（aspect-square）<br>• 商品名稱和簡介超出長度時自動截斷（line-clamp）<br>• 支援的商品數量：不限 |
| **商品展示** | 作為**購物者**，我想要**瀏覽商品的圖片輪播、名稱、價格和簡介**，以便**了解商品資訊並決定是否購買** | • 商品資訊完整顯示：圖片、名稱、價格、簡介<br> | • 使用現有商品資料庫（Supabase）<br>• 圖片格式支援：webp、jpg、png<br>• 商品圖片尺寸限制：最大 5MB<br>• 支援的商品數量：不限 |
| **商品展示 - 庫存狀態** | 作為**購物者**，我想要**即時查看商品的庫存狀態**，以便**知道商品是否還有貨** | • 庫存為 0 時顯示「缺貨」或「已售完」<br>• 庫存少於 5 件時顯示「僅剩 X 件」提醒 | • 庫存資料來源：Supabase 資料庫<br>• 庫存更新頻率：即時（交易時立即更新） |
| **購物車 - 加入商品** | 作為**購物者**，我想要**一鍵將商品加入購物車**，以便**快速選購我想要的商品** | • 可以成功加入購物車<br>• 加入成功後顯示視覺反饋（如動畫或提示）<br>• 重複加入同一商品時數量自動累加 | • 購物車資料儲存在 localStorage<br>• 單一商品最大數量：99<br>• 購物車商品總數上限：50 項 |
| **購物車 - 即時預覽** | 作為**購物者**，我想要**即時查看購物車的商品數量和總價**，以便**掌握目前選購狀況** | • 購物車數量顯示更新延遲 < 200ms<br>• 總價計算準確率 100%<br>• 購物車圖示上顯示商品總數徽章<br>• 購物車預覽顯示至少 3 項最近加入的商品 | • 價格計算僅限前端（不包含運費計算）<br>• 支援貨幣：新台幣（TWD） |
| **購物車 - 編輯功能** | 作為**購物者**，我想要**編輯購物車內的商品（修改數量或移除）**，以便**調整選購內容** | • 商品可以被編輯數量或移除<br>• 數量調整支援增減按鈕和直接輸入<br>• 移除商品時顯示確認提示 | • 商品數量最小值：1<br>• 商品數量最大值：99<br>• 空購物車時顯示提示訊息 |
| **結帳流程** | 作為**購物者**，我想要**在一頁式表單中完成所有結帳資訊填寫**，以便**快速完成訂單** | • 表單需要可以正常驗證<br> | • 必填欄位：姓名、電話、地址、付款方式<br>• 電話格式驗證：台灣手機號碼格式<br>• 表單資料暫存：使用 localStorage（未提交前）<br>• 結帳流程不可中斷後續恢復（需重新填寫） |
| **庫存管理 - 庫存更新** | 作為**系統**，我需要**在購買商品後正確扣除庫存數量**，以便**確保庫存數據的準確性和一致性** | • 購買商品時，庫存數量會即時正確扣除<br>• 庫存扣除前會先檢查庫存是否足夠<br>• 庫存不足時會阻止訂單建立並顯示錯誤訊息<br>• 庫存扣除失敗時訂單不會被建立<br>• 批量購買多個商品時，所有商品的庫存會同時正確扣除<br>• 庫存數量不會變成負數 | • 庫存扣除必須是原子性操作，確保資料一致性<br>• 庫存扣除與訂單建立必須是原子操作（全部成功或全部失敗）<br>• 必須支援批量庫存扣除功能<br>• 購買前必須先檢查所有商品的庫存可用性<br>• 庫存更新頻率：即時（交易時立即更新）<br>• 庫存資料來源：資料庫 |
| **響應式設計** | 作為**使用者**，我想要**在不同裝置（手機、平板、電腦）上正常使用購物網站**，以便**隨時隨地購物** | • 支援多種裝置：手機版（375px-768px）、平板版（768px-1024px）、電腦版（>1024px）<br>• 觸控操作支援：按鈕最小點擊區域 44x44px | • 使用 RWD（響應式網頁設計）技術<br>• 支援的瀏覽器：Chrome、Safari、Edge（最新 2 個版本）<br>• 螢幕解析度範圍：320px - 2560px<br>• 不支援 IE 瀏覽器 |
